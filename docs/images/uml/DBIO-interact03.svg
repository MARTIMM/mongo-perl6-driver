<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1203px" preserveAspectRatio="none" style="width:968px;height:1203px;" version="1.1" viewBox="0 0 968 1203" width="968px" zoomAndPan="magnify"><defs><filter height="300%" id="f1tfv8zn1fohvc" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="51.2407" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="28.5" y="50.4131"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="936.6704" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="110" y="205.5483"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="35.4131" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="263" y="244.7891"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="728.8813" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="263" y="309.4429"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="104.6538" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="389" y="71.6538"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="29.2407" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="389" y="471.8188"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="35.4131" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="488" y="140.8945"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="361.8203" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="488" y="530.3003"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="303.3389" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="599" y="559.541"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="214.6167" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="604" y="612.0225"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="135.1353" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="705" y="656.2632"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="40.2407" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="710" y="714.917"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="29.2407" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="705" y="921.3613"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="35.4131" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="845" y="348.6836"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="29.2407" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="845" y="413.3374"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="29.2407" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="845" y="979.8428"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="35.4131" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="921" y="1077.5649"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="33" x2="33" y1="40.4131" y2="1160.2188"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="115" x2="115" y1="40.4131" y2="1160.2188"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="268" x2="268" y1="246.2549" y2="1160.2188"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="394" x2="394" y1="40.4131" y2="1160.2188"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="493" x2="493" y1="142.3604" y2="1160.2188"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="604" x2="604" y1="40.4131" y2="1160.2188"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="710" x2="710" y1="657.729" y2="1160.2188"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="850" x2="850" y1="350.1494" y2="1160.2188"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="926" x2="926" y1="1079.0308" y2="1160.2188"/><rect fill="#FEFECE" filter="url(#f1tfv8zn1fohvc)" height="30.4131" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="12" y="25.084">Client</text><rect fill="#FEFECE" filter="url(#f1tfv8zn1fohvc)" height="30.4131" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="5" y="1159.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="12" y="1179.3027">Client</text><rect fill="#FEFECE" filter="url(#f1tfv8zn1fohvc)" height="30.4131" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="82" x="72" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="79" y="25.084">Collection</text><rect fill="#FEFECE" filter="url(#f1tfv8zn1fohvc)" height="30.4131" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="82" x="72" y="1159.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="79" y="1179.3027">Collection</text><rect fill="#FEFECE" filter="url(#f1tfv8zn1fohvc)" height="30.4131" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="44" x="244" y="1159.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="251" y="1179.3027">Wire</text><rect fill="#FEFECE" filter="url(#f1tfv8zn1fohvc)" height="30.4131" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="348" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="355" y="25.084">ServerPool</text><rect fill="#FEFECE" filter="url(#f1tfv8zn1fohvc)" height="30.4131" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="348" y="1159.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="355" y="1179.3027">ServerPool</text><rect fill="#FEFECE" filter="url(#f1tfv8zn1fohvc)" height="30.4131" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="462" y="1159.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="469" y="1179.3027">Server</text><rect fill="#FEFECE" filter="url(#f1tfv8zn1fohvc)" height="30.4131" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="556" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="563" y="25.084">SocketPool</text><rect fill="#FEFECE" filter="url(#f1tfv8zn1fohvc)" height="30.4131" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="556" y="1159.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="563" y="1179.3027">SocketPool</text><rect fill="#FEFECE" filter="url(#f1tfv8zn1fohvc)" height="30.4131" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="62" x="677" y="1159.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="684" y="1179.3027">Socket</text><rect fill="#FEFECE" filter="url(#f1tfv8zn1fohvc)" height="30.4131" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="64" x="816" y="1159.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="823" y="1179.3027">Header</text><rect fill="#FEFECE" filter="url(#f1tfv8zn1fohvc)" height="30.4131" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="60" x="894" y="1159.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="46" x="901" y="1179.3027">Cursor</text><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="51.2407" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="28.5" y="50.4131"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="936.6704" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="110" y="205.5483"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="35.4131" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="263" y="244.7891"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="728.8813" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="263" y="309.4429"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="104.6538" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="389" y="71.6538"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="29.2407" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="389" y="471.8188"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="35.4131" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="488" y="140.8945"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="361.8203" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="488" y="530.3003"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="303.3389" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="599" y="559.541"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="214.6167" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="604" y="612.0225"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="135.1353" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="705" y="656.2632"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="40.2407" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="710" y="714.917"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="29.2407" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="705" y="921.3613"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="35.4131" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="845" y="348.6836"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="29.2407" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="845" y="413.3374"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="29.2407" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="845" y="979.8428"/><rect fill="#FFFFFF" filter="url(#f1tfv8zn1fohvc)" height="35.4131" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="921" y="1077.5649"/><polygon fill="#A80036" points="377,67.6538,387,71.6538,377,75.6538,381,71.6538" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="38.5" x2="383" y1="71.6538" y2="71.6538"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="83" x="45.5" y="66.5625">.add-server()</text><polygon fill="#A80036" points="450,126.8945,460,130.8945,450,134.8945,454,130.8945" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="399" x2="456" y1="130.8945" y2="130.8945"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="406" y="125.8032">.new()</text><rect fill="#FEFECE" filter="url(#f1tfv8zn1fohvc)" height="30.4131" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="462" y="109.6538"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="469" y="129.7378">Server</text><polygon fill="#A80036" points="405,172.3076,395,176.3076,405,180.3076,401,176.3076" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="399" x2="492" y1="176.3076" y2="176.3076"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="411" y="171.2163">server</text><polygon fill="#A80036" points="98,201.5483,108,205.5483,98,209.5483,102,205.5483" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="0" x2="104" y1="205.5483" y2="205.5483"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="7" y="200.457">.find(request)</text><polygon fill="#A80036" points="232,230.7891,242,234.7891,232,238.7891,236,234.7891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="120" x2="238" y1="234.7891" y2="234.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="127" y="229.6978">.new()</text><rect fill="#FEFECE" filter="url(#f1tfv8zn1fohvc)" height="30.4131" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="44" x="244" y="213.5483"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="251" y="233.6323">Wire</text><polygon fill="#A80036" points="131,276.2021,121,280.2021,131,284.2021,127,280.2021" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="125" x2="267" y1="280.2021" y2="280.2021"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="137" y="275.1108">wire</text><polygon fill="#A80036" points="251,305.4429,261,309.4429,251,313.4429,255,309.4429" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="120" x2="257" y1="309.4429" y2="309.4429"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="127" y="304.3516">wire.query(request)</text><polygon fill="#A80036" points="804,334.6836,814,338.6836,804,342.6836,808,338.6836" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="273" x2="810" y1="338.6836" y2="338.6836"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="280" y="333.5923">.new()</text><rect fill="#FEFECE" filter="url(#f1tfv8zn1fohvc)" height="30.4131" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="64" x="816" y="317.4429"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="823" y="337.5269">Header</text><polygon fill="#A80036" points="284,380.0967,274,384.0967,284,388.0967,280,384.0967" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="278" x2="849" y1="384.0967" y2="384.0967"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="21" x="290" y="379.0054">hdr</text><polygon fill="#A80036" points="833,409.3374,843,413.3374,833,417.3374,837,413.3374" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="273" x2="839" y1="413.3374" y2="413.3374"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="280" y="408.2461">hdr.encode-query()</text><polygon fill="#A80036" points="284,438.5781,274,442.5781,284,446.5781,280,442.5781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="278" x2="849" y1="442.5781" y2="442.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="16" x="290" y="437.4868">eq</text><polygon fill="#A80036" points="377,467.8188,387,471.8188,377,475.8188,381,471.8188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="273" x2="383" y1="471.8188" y2="471.8188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="280" y="466.7275">.select-server()</text><polygon fill="#A80036" points="284,497.0596,274,501.0596,284,505.0596,280,501.0596" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="278" x2="393" y1="501.0596" y2="501.0596"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="19" x="290" y="495.9683">srv</text><polygon fill="#A80036" points="476,526.3003,486,530.3003,476,534.3003,480,530.3003" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="273" x2="482" y1="530.3003" y2="530.3003"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="280" y="525.209">srv.get-socket()</text><polygon fill="#A80036" points="587,555.541,597,559.541,587,563.541,591,559.541" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="498" x2="593" y1="559.541" y2="559.541"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="505" y="554.4497">.get-socket()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="609" x2="656" y1="599.0225" y2="599.0225"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="656" x2="656" y1="599.0225" y2="612.0225"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="615" x2="656" y1="612.0225" y2="612.0225"/><polygon fill="#A80036" points="625,608.0225,615,612.0225,625,616.0225,621,612.0225" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="621" y="578.6904">check sock</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="621" y="593.9312">available</text><polygon fill="#A80036" points="665,642.2632,675,646.2632,665,650.2632,669,646.2632" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="614" x2="671" y1="646.2632" y2="646.2632"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="621" y="641.1719">.new()</text><rect fill="#FEFECE" filter="url(#f1tfv8zn1fohvc)" height="30.4131" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="62" x="677" y="625.0225"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="684" y="645.1064">Socket</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="715" x2="762" y1="701.917" y2="701.917"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="762" x2="762" y1="701.917" y2="714.917"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="721" x2="762" y1="714.917" y2="714.917"/><polygon fill="#A80036" points="731,710.917,721,714.917,731,718.917,727,714.917" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="727" y="681.585">authenticate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="727" y="696.8257">if necessary</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="720" x2="762" y1="754.1577" y2="754.1577"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="762" x2="762" y1="754.1577" y2="767.1577"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="715" x2="762" y1="767.1577" y2="767.1577"/><polygon fill="#A80036" points="725,763.1577,715,767.1577,725,771.1577,721,767.1577" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="727" y="749.0664">authentication ok</text><polygon fill="#A80036" points="625,787.3984,615,791.3984,625,795.3984,621,791.3984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="619" x2="709" y1="791.3984" y2="791.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="631" y="786.3071">sock</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="614" x2="656" y1="825.6392" y2="825.6392"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="656" x2="656" y1="825.6392" y2="838.6392"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="609" x2="656" y1="838.6392" y2="838.6392"/><polygon fill="#A80036" points="619,834.6392,609,838.6392,619,842.6392,615,838.6392" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="621" y="820.5479">sock</text><polygon fill="#A80036" points="509,858.8799,499,862.8799,509,866.8799,505,862.8799" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="503" x2="603" y1="862.8799" y2="862.8799"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="515" y="857.7886">sock</text><polygon fill="#A80036" points="284,888.1206,274,892.1206,284,896.1206,280,892.1206" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="278" x2="492" y1="892.1206" y2="892.1206"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="290" y="887.0293">sock</text><polygon fill="#A80036" points="693,917.3613,703,921.3613,693,925.3613,697,921.3613" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="273" x2="699" y1="921.3613" y2="921.3613"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="280" y="916.27">sock.send(eq)</text><polygon fill="#A80036" points="284,946.6021,274,950.6021,284,954.6021,280,950.6021" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="278" x2="709" y1="950.6021" y2="950.6021"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="290" y="945.5107">reply</text><polygon fill="#A80036" points="833,975.8428,843,979.8428,833,983.8428,837,979.8428" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="273" x2="839" y1="979.8428" y2="979.8428"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="280" y="974.7515">hdr.decode-reply(reply)</text><polygon fill="#A80036" points="284,1005.0835,274,1009.0835,284,1013.0835,280,1009.0835" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="278" x2="849" y1="1009.0835" y2="1009.0835"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="290" y="1003.9922">result</text><polygon fill="#A80036" points="131,1034.3242,121,1038.3242,131,1042.3242,127,1038.3242" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="125" x2="267" y1="1038.3242" y2="1038.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="137" y="1033.2329">result</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="841" x2="859" y1="1029.3242" y2="1047.3242"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="841" x2="859" y1="1047.3242" y2="1029.3242"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="259" x2="277" y1="1029.3242" y2="1047.3242"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="259" x2="277" y1="1047.3242" y2="1029.3242"/><polygon fill="#A80036" points="882,1063.5649,892,1067.5649,882,1071.5649,886,1067.5649" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="120" x2="888" y1="1067.5649" y2="1067.5649"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="127" y="1062.4736">.new(result)</text><rect fill="#FEFECE" filter="url(#f1tfv8zn1fohvc)" height="30.4131" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="60" x="894" y="1046.3242"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="46" x="901" y="1066.4082">Cursor</text><polygon fill="#A80036" points="131,1108.978,121,1112.978,131,1116.978,127,1112.978" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="125" x2="925" y1="1112.978" y2="1112.978"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="137" y="1107.8867">cursor</text><polygon fill="#A80036" points="11,1138.2188,1,1142.2188,11,1146.2188,7,1142.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="5" x2="114" y1="1142.2188" y2="1142.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="17" y="1137.1274">cursor</text><!--MD5=[427fb9049294c7f1342beb298485fbc4]
@startuml
'scale 0.9

'hide footbox

skinparam roundcorner 10
skinparam sequence {
'  LifeLineBorderColor blue
  LifeLineBackgroundColor #fff
}

participant Client
participant Collection as Coll
participant Wire
participant ServerPool
participant Server
participant SocketPool
participant Socket
participant Header as Hdr

activate Client
Client -> ServerPool ++: .add-server()
deactivate Client

create Server
ServerPool - -> Server: .new()
activate Server
return server
'activate Server
deactivate ServerPool

-> Coll: .find(request)
activate Coll
create Wire
Coll -> Wire ++: .new()
return wire
Coll -> Wire ++: wire.query(request)

create Hdr
Wire -> Hdr ++: .new()
return hdr
Wire -> Hdr ++: hdr.encode-query()
return eq

Wire -> ServerPool ++: .select-server()
return srv
Wire -> Server ++: srv.get-socket()
Server -> SocketPool ++: .get-socket()
SocketPool -> SocketPool++: check sock\navailable

create Socket
SocketPool -> Socket ++: .new()
Socket -> Socket ++: authenticate\nif necessary
return authentication ok
return sock
return sock
return sock
return sock

Wire -> Socket ++: sock.send(eq)
return reply
Wire -> Hdr ++: hdr.decode-reply(reply)
return result
return result
destroy Hdr

destroy Wire

create Cursor
Coll -> Cursor ++: .new(result)
return cursor
return cursor


@enduml

@startuml


skinparam roundcorner 10
skinparam sequence {
  LifeLineBackgroundColor #fff
}

participant Client
participant Collection as Coll
participant Wire
participant ServerPool
participant Server
participant SocketPool
participant Socket
participant Header as Hdr

activate Client
Client -> ServerPool ++: .add-server()
deactivate Client

create Server
ServerPool - -> Server: .new()
activate Server
return server
deactivate ServerPool

-> Coll: .find(request)
activate Coll
create Wire
Coll -> Wire ++: .new()
return wire
Coll -> Wire ++: wire.query(request)

create Hdr
Wire -> Hdr ++: .new()
return hdr
Wire -> Hdr ++: hdr.encode-query()
return eq

Wire -> ServerPool ++: .select-server()
return srv
Wire -> Server ++: srv.get-socket()
Server -> SocketPool ++: .get-socket()
SocketPool -> SocketPool++: check sock\navailable

create Socket
SocketPool -> Socket ++: .new()
Socket -> Socket ++: authenticate\nif necessary
return authentication ok
return sock
return sock
return sock
return sock

Wire -> Socket ++: sock.send(eq)
return reply
Wire -> Hdr ++: hdr.decode-reply(reply)
return result
return result
destroy Hdr

destroy Wire

create Cursor
Coll -> Cursor ++: .new(result)
return cursor
return cursor


@enduml

PlantUML version 1.2020.19(Mon Oct 12 17:10:01 CEST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>