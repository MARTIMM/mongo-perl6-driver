Hello Perl6 and noSQL users!

This is working MongoDB driver at early stage of development.

Let's see what it can do...


SYNOPSIS

    use MongoDB;

    my $connection = MongoDB::Connection.new( );
    my $database = $connection.database( 'test' );
    my $collection = $database.collection( 'perl_users' );
    my $cursor;
    my %document;


    #### insert documents into collection ####

    %document = {
        'name' => 'PaweÅ‚ Pabian',
        'nick' => 'bbkr',
        'versions' => [ 5, 6 ],
        'author' => {
            'BSON' => 'https://github.com/bbkr/BSON',
            'Integer::Tiny' => 'http://search.cpan.org/perldoc?Integer%3A%3ATiny',
        },
        'IRC' => True,
    };
    $collection.insert( %document );

    %document = {
        'name' => 'Andrzej Cholewiusz',
        'nick' => 'andee',
        'versions' => [ 5 ],
        'IRC' => False,
    };
    $collection.insert( %document );


    #### query documents in collection ####

    # query everything
    $cursor = $collection.query( );
    while $cursor.fetch( ) -> %document {
        %document.perl.say;
    }

    # or with condition
    $cursor = $collection.query( { 'nick' => 'bbkr' } );
    $cursor.fetch( ).perl.say;


    #### update documents in collection ####

    # update all documents
    $collection.update( { }, { '$set' => { 'company' => 'Implix' } } );

    # or only specific documents
    $collection.update( { 'nick' => 'andee' }, { '$push' => { 'versions' => 6 } } );


    #### delete documents from collection ####

    # delete specific documents
    $collection.delete( { 'nick' => 'bbkr' } );

    # or delete all documents
    $collection.delete( );


FEATURE ROADMAP

List of things you may expect in nearest future.

* query_one( ) - syntactic sugar for selecting without cursor
* update_one( ) - update only first matching record
* insert( @documents ) - inserting multiple documents in one request
* update( ) - with upsert
* error handler
* database authentication
* kill( ) - for cursor to abandon remaining data
* more stuff from http://www.mongodb.org/display/DOCS/Mongo+Driver+Requirements

KNOWN LIMITATIONS

* lack of Num or Rat support
  this is directly related to not yet specified pack/unpack in Perl6
* speed
  protocol correctness and clear code are priorities for now

BIG THANKS

For everyone on #perl6

CONTACT

You can find me on #perl6 IRC channel as 'bbkr'.
